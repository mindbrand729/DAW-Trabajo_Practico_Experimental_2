{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/form.css' %}">
<link rel="stylesheet" href="{% static 'css/buttonD.css' %}">
<link rel="stylesheet" href="{% static 'css/flower.css' %}">
{% endblock %}
{% block title %}Página Nosotros | Floristería{% endblock %}

{% block content %}
{% if company.pk %}
    <h1>Modificar Datos de la Empresa</h1>
    <button type="button" class="button-delete" onclick="location.href='{% url 'company_delete' company.pk %}'">
        <span class="button__text">Eliminar</span>
        <span class="button__icon"><i class="fa-solid fa-trash"></i></span>
    </button>
{% else %}
    <h1>Ingresar Datos de la Empresa</h1>
{% endif %}

<button type="button" class="button-delete" onclick="location.href='{% url 'company_list' %}'">
    <span class="button__text">Volver</span>
    <span class="button__icon"><i class="fa-solid fa-rotate-left"></i></span>
</button>

<div class="form-container">
    <form class="form" id="company-form" method="post" enctype="multipart/form-data" data-is-edit="{% if company.pk %}true{% else %}false{% endif %}">
        {% csrf_token %}
        <div class="form-wrapper">
            <div class="form-column">
                <div class="form-group">
                    <label for="name">Nombre de la compa;ia</label>
                    <input type="text" id="name" name="name_company" value="{{ company.name_company }}" required="">
                    {{ form.name_company.errors }}
                </div>
                <div class="form-group">
                    <label for="address">Direcci[on] de la compa;ia</label>
                    <input type="text" id="address" name="address_company" value="{{ company.address_company }}" required="">
                    {{ form.address_company.errors }}
                </div>
                <div class="form-group">
                    <label for="founding">Fundaci[on] de la compa;ia</label>
                    <input type="number" id="founding" name="founding_company" value="{{ company.founding_company }}" required="">
                    {{ form.founding_company.errors }}
                </div>
                <div class="form-group">
                    <label for="ruc">RUC de la compa;ia</label>
                    <input type="number" id="founding" name="ruc_company" value="{{ company.ruc_company }}" required="">
                    {{ form.ruc_company.errors }}
                </div>
            </div>
            <div class="form-column">
                <div class="form-group">
                    <label for="textarea">Mision de la compa;ia</label>
                    <textarea name="mission_company" id="mission" rows="10" cols="50" required="">{{ company.mission_company }}</textarea>
                    {{ form.mission_company.errors }}
                </div>
                <div class="form-group">
                    <label for="textarea">Vision de la compa;ia</label>
                    <textarea name="vision_company" id="vision" rows="10" cols="50" required="">{{ company.vision_company }}</textarea>
                    {{ form.vision_company.errors }}
                </div>
                <div class="form-group">
                    <label for="textarea">Imagen de la compa;ia</label>
                    <div class="actions">
                        <label for="file" class="upload-btn">
                            Elegir archivo
                            <input hidden type="file" name="imagen_company" id="file" accept="image/*">
                            <img id="preview" src="{% if company.pk %}{{ company.imagen_company.url }}{% endif %}" />
                        </label>
                    </div>
                    <div id="error-msg" class="error"></div>
                </div>
            </div>
        </div>
        <div class='form-actions'>
            <button class="btn" type="submit" id="guardar-btn">
                <div class="wrapper">
                    <p class="text">Guardar</p>
                    {% include 'button.html' %}
                </div>
            </button>
        </div>
    </form>
</div>
{% block extra_js %}<script src="{% static 'js/form.js' %}"></script>{% endblock %}
{% endblock %}